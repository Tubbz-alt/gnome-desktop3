This patch was taken from gnome-control-center 52_region_language.patch,
where relevent language code used to live in 3.6

Description: Adapts the region capplet and the language chooser in the user accounts capplet
Forwarded: https://bugzilla.gnome.org/695939, https://bugzilla.gnome.org/695940
Author: Gunnar Hjalmarsson <gunnarhj@ubuntu.com>
Last-Update: 2013-04-10

 * Ubuntu isn't shipped with all languages installed and all locales generated.
   Instead the users install the needed language pack(s), and the corresponding
   locales are generated.

 * The 'common_name' field taken into account when parsing the iso-codes XML files
   for language names.

--- gnome-desktop-3.16.2.orig/libgnome-desktop/gnome-languages.c
+++ gnome-desktop-3.16.2/libgnome-desktop/gnome-languages.c
@@ -787,6 +787,7 @@
         const char *ccode_longT;
         const char *ccode;
         const char *ccode_id;
+        const char *lang_common_name;
         const char *lang_name;
 
         if (! (g_str_equal (element_name, "iso_639_entry") || g_str_equal (element_name, "iso_639_3_entry"))
@@ -798,6 +799,7 @@
         ccode_longB = NULL;
         ccode_longT = NULL;
         ccode_id = NULL;
+        lang_common_name = NULL;
         lang_name = NULL;
 
         while (*attr_names && *attr_values) {
@@ -834,6 +836,11 @@
                                 }
                                 ccode_id = *attr_values;
                         }
+                } else if (g_str_equal (*attr_names, "common_name")) {
+                        /* skip if empty */
+                        if (**attr_values) {
+                                lang_common_name = *attr_values;
+                        }
                 } else if (g_str_equal (*attr_names, "name")) {
                         lang_name = *attr_values;
                 }
@@ -842,6 +849,10 @@
                 ++attr_values;
         }
 
+        if (lang_common_name != NULL) {
+                lang_name = lang_common_name;
+        }
+
         if (lang_name == NULL) {
                 return;
         }
@@ -1084,6 +1095,7 @@
         char *langinfo_codeset;
         char *translated_language;
         char *translated_territory;
+        char *modifier;
         gboolean is_utf8 = TRUE;
 
         g_return_val_if_fail (locale != NULL, NULL);
@@ -1101,12 +1113,13 @@
         language_code = NULL;
         territory_code = NULL;
         codeset_code = NULL;
+        modifier = NULL;
 
         gnome_parse_locale (locale,
                             &language_code,
                             &territory_code,
                             &codeset_code,
-                            NULL);
+                            &modifier);
 
         if (language_code == NULL) {
                 goto out;
@@ -1132,7 +1145,7 @@
                                         translated_territory);
         }
 
-        language_name_get_codeset_details (locale, &langinfo_codeset, &is_utf8);
+        //language_name_get_codeset_details (locale, &langinfo_codeset, &is_utf8);
 
         if (codeset_code == NULL && langinfo_codeset != NULL) {
                 codeset_code = g_strdup (langinfo_codeset);
@@ -1144,6 +1157,10 @@
                                         codeset_code);
         }
 
+        if (modifier != NULL) {
+                g_string_append_printf (full_language, " - %s", modifier);
+        }
+
  out:
         g_free (language_code);
         g_free (territory_code);
@@ -1151,6 +1168,7 @@
         g_free (langinfo_codeset);
         g_free (translated_language);
         g_free (translated_territory);
+        g_free (modifier);
 
         if (full_language->len == 0) {
                 g_string_free (full_language, TRUE);
@@ -1184,6 +1202,7 @@
         char *langinfo_codeset;
         char *translated_language;
         char *translated_territory;
+        char *modifier;
         gboolean is_utf8 = TRUE;
 
         g_return_val_if_fail (locale != NULL, NULL);
@@ -1201,12 +1220,13 @@
         language_code = NULL;
         territory_code = NULL;
         codeset_code = NULL;
+        modifier = NULL;
 
         gnome_parse_locale (locale,
                             &language_code,
                             &territory_code,
                             &codeset_code,
-                            NULL);
+                            &modifier);
 
         if (territory_code == NULL) {
                 goto out;
@@ -1219,6 +1239,10 @@
 		goto out;
 	}
 
+        if (modifier != NULL) {
+                g_string_append_printf (full_name, " - %s", modifier);
+        }
+
         if (language_code != NULL) {
                 translated_language = get_translated_language (language_code, translation);
         }
@@ -1247,6 +1271,7 @@
         g_free (langinfo_codeset);
         g_free (translated_language);
         g_free (translated_territory);
+        g_free (modifier);
 
         if (full_name->len == 0) {
                 g_string_free (full_name, TRUE);
