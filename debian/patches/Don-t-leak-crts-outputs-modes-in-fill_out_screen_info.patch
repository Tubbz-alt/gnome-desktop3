From: Sam Morris <sam@robots.org.uk>
Date: Fri, 13 Jul 2018 17:07:37 +0100
Subject: Don't leak crts/outputs/modes in fill_out_screen_info

Bug: https://gitlab.gnome.org/GNOME/gnome-desktop/issues/6
Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=903901
Forwarded: https://gitlab.gnome.org/GNOME/gnome-desktop/merge_requests/1
(cherry picked from commit ce1b960b399edd01cf6a34241cacf3b3708a0a84)
---
 libgnome-desktop/gnome-rr.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/libgnome-desktop/gnome-rr.c b/libgnome-desktop/gnome-rr.c
index 8c50f02..f9cdc4b 100644
--- a/libgnome-desktop/gnome-rr.c
+++ b/libgnome-desktop/gnome-rr.c
@@ -531,6 +531,11 @@ fill_out_screen_info (ScreenInfo  *info,
 
     fill_screen_info_from_resources (info, serial, crtcs, outputs,
 				     modes, max_width, max_height);
+
+    g_variant_unref (crtcs);
+    g_variant_unref (outputs);
+    g_variant_unref (modes);
+
     return TRUE;
 }
 
